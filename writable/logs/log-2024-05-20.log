ERROR - 2024-05-20 02:44:56 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`pga`.`admissions`, CONSTRAINT `admissions_ibfk_2` FOREIGN KEY (`section`) REFERENCES `sections` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\laragon\www\PGA-Management-System\system\Database\MySQLi\Connection.php:306
Stack trace:
#0 C:\laragon\www\PGA-Management-System\system\Database\MySQLi\Connection.php(306): mysqli->query('UPDATE `admissi...', 0)
#1 C:\laragon\www\PGA-Management-System\system\Database\BaseConnection.php(692): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `admissi...')
#2 C:\laragon\www\PGA-Management-System\system\Database\BaseConnection.php(606): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `admissi...')
#3 C:\laragon\www\PGA-Management-System\system\Database\BaseBuilder.php(2475): CodeIgniter\Database\BaseConnection->query('UPDATE `admissi...', Array, false)
#4 C:\laragon\www\PGA-Management-System\system\Model.php(385): CodeIgniter\Database\BaseBuilder->update()
#5 C:\laragon\www\PGA-Management-System\system\BaseModel.php(949): CodeIgniter\Model->doUpdate(NULL, Array)
#6 C:\laragon\www\PGA-Management-System\system\Model.php(776): CodeIgniter\BaseModel->update(NULL, Array)
#7 C:\laragon\www\PGA-Management-System\app\Controllers\RegistrarController.php(957): CodeIgniter\Model->update()
#8 C:\laragon\www\PGA-Management-System\system\CodeIgniter.php(919): App\Controllers\RegistrarController->regSaveadmissions()
#9 C:\laragon\www\PGA-Management-System\system\CodeIgniter.php(494): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\RegistrarController))
#10 C:\laragon\www\PGA-Management-System\system\CodeIgniter.php(353): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\laragon\www\PGA-Management-System\public\index.php(79): CodeIgniter\CodeIgniter->run()
#12 C:\laragon\www\PGA-Management-System\system\Commands\Server\rewrite.php(47): require_once('C:\\laragon\\www\\...')
#13 {main}
CRITICAL - 2024-05-20 02:44:56 --> Cannot add or update a child row: a foreign key constraint fails (`pga`.`admissions`, CONSTRAINT `admissions_ibfk_2` FOREIGN KEY (`section`) REFERENCES `sections` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)
in SYSTEMPATH\Database\BaseConnection.php on line 646.
 1 SYSTEMPATH\Database\BaseBuilder.php(2475): CodeIgniter\Database\BaseConnection->query('UPDATE `admissions` SET `student_id` = :student_id:, `category` = :category:, `yr_lvl` = :yr_lvl:, `section` = :section:, `program` = :program:, `school_year` = :school_year:, `status` = :status:, `schedule` = :schedule:, `account_id` = :account_id:
WHERE `id` = :id:', [...], false)
 2 SYSTEMPATH\Model.php(385): CodeIgniter\Database\BaseBuilder->update()
 3 SYSTEMPATH\BaseModel.php(949): CodeIgniter\Model->doUpdate(null, [...])
 4 SYSTEMPATH\Model.php(776): CodeIgniter\BaseModel->update(null, [...])
 5 APPPATH\Controllers\RegistrarController.php(957): CodeIgniter\Model->update()
 6 SYSTEMPATH\CodeIgniter.php(919): App\Controllers\RegistrarController->regSaveadmissions()
 7 SYSTEMPATH\CodeIgniter.php(494): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\RegistrarController))
 8 SYSTEMPATH\CodeIgniter.php(353): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('C:\\laragon\\www\\PGA-Management-System\\public\\index.php')
CRITICAL - 2024-05-20 03:21:30 --> Undefined array key "school_year"
in APPPATH\Views\teacher\gradebody.php on line 93.
 1 APPPATH\Views\teacher\gradebody.php(93): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined array key "school_year"', 'C:\\laragon\\www\\PGA-Management-System\\app\\Views\\teacher\\gradebody.php', 93)
 2 SYSTEMPATH\View\View.php(226): include('C:\\laragon\\www\\PGA-Management-System\\app\\Views\\teacher\\gradebody.php')
 3 SYSTEMPATH\View\View.php(229): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 4 SYSTEMPATH\View\View.php(467): CodeIgniter\View\View->render('teacher/gradebody', null, true)
 5 APPPATH\Views\grade.php(2): CodeIgniter\View\View->include('teacher/gradebody')
 6 SYSTEMPATH\View\View.php(226): include('C:\\laragon\\www\\PGA-Management-System\\app\\Views\\grade.php')
 7 SYSTEMPATH\View\View.php(229): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 8 SYSTEMPATH\Common.php(1188): CodeIgniter\View\View->render('grade', [], true)
 9 APPPATH\Controllers\TeacherController.php(116): view('grade', [...])
10 SYSTEMPATH\CodeIgniter.php(919): App\Controllers\TeacherController->grade()
11 SYSTEMPATH\CodeIgniter.php(494): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\TeacherController))
12 SYSTEMPATH\CodeIgniter.php(353): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
13 FCPATH\index.php(79): CodeIgniter\CodeIgniter->run()
14 SYSTEMPATH\Commands\Server\rewrite.php(47): require_once('C:\\laragon\\www\\PGA-Management-System\\public\\index.php')
